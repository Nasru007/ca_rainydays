(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{45301:function(n,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(30441)}])},30441:function(n,t,o){"use strict";o.r(t),o.d(t,{__N_SSP:function(){return p},HomePage:function(){return m}});var e=o(85893),r=o(67294),i=o(11163),a=o(69671),l=o(13272),u=o(23791),d=o(46719),v=o(52544),c=o(29527),s=o(89402),f=o(48574);function g(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var o=[],e=!0,r=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(e=(a=l.next()).done)&&(o.push(a.value),!t||o.length!==t);e=!0);}catch(u){r=!0,i=u}finally{try{e||null==l.return||l.return()}finally{if(r)throw i}}return o}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=!0,m=function(n){var t,o,p,m,y,h,_,b,w,P,k,E,x,C,N,S,L,T=n.storefront,B=(0,i.useRouter)(),O=(0,c.$Y)().selectedSortingOption,z=(0,r.useContext)(v.xf),A=Number(B.query.page||1),F=(0,u.C)(z.navigationFilters),G=g((0,a.Y)({unobserveOnEnter:!0,rootMargin:"500px"}),2),R=G[0],X=G[1],Z=(0,f.y)(),q=g((0,s.KD1)({variables:{limit:d.p,facets:F,sortBy:O||z.defaultSortOption.key,startPage:!0,provider:Z}}),2),I=q[0],K=q[1];(0,r.useEffect)((function(){X&&I()}),[X]);var Y=function(n){var t=B.query[n];return Array.isArray(t)?t[0]:t},$=(0,s.I1z)({variables:{term:Y("campaign")||Y("brand")||Y("team")||Y("signatureStyle")||Y("collection")||Y("productLine")||Y("use")||Y("productGroup")||"",searchField:"primary_tag.valueLocal"}}),j=(0,s.i$k)(),D=(0,s.bxm)({variables:{slug:"block:".concat(T,"-home")}}),H=(0,s.bxm)({variables:{slug:"block:".concat(T,"-campaign")}}),M=(0,s.lXZ)();if(K.error)return"Error";var U,J,Q=(0,u.Z)(null===K||void 0===K||null===(t=K.data)||void 0===t||null===(o=t.search)||void 0===o?void 0:o.facets,z.navigationFilters),V=F.filter((function(n){return"campaign"===n.type})).length>0;return(0,e.jsx)(l.Z,{onStartPage:!0,term:null,currentPage:A,filterFacets:Q,contentLoading:null===$||void 0===$?void 0:$.loading,productsLoading:null===K||void 0===K?void 0:K.loading,images:null===$||void 0===$||null===(p=$.data)||void 0===p?void 0:p.images,header:null===$||void 0===$||null===(m=$.data)||void 0===m?void 0:m.header,description:null===$||void 0===$||null===(y=$.data)||void 0===y?void 0:y.description,products:null===K||void 0===K||null===(h=K.data)||void 0===h?void 0:h.search.products,widgets:null===K||void 0===K||null===(_=K.data)||void 0===_||null===(b=_.search)||void 0===b?void 0:b.widgets,totalProducts:null===K||void 0===K||null===(w=K.data)||void 0===w||null===(P=w.search)||void 0===P?void 0:P.total,newProducts:[],upcomingReleases:null===M||void 0===M||null===(k=M.data)||void 0===k||null===(E=k.newReleaseProducts)||void 0===E?void 0:E.products,googleTestimonials:null===$||void 0===$||null===(x=$.data)||void 0===x?void 0:x.googleTestimonials,storefront:T,userGeneratedContent:(U=null===$||void 0===$||null===(C=$.data)||void 0===C?void 0:C.userGeneratedContentByUrlKey,J=null===$||void 0===$||null===(N=$.data)||void 0===N?void 0:N.userGeneratedContentByTerm,J?J.concat(U):U),magazine:null===j||void 0===j||null===(S=j.data)||void 0===S?void 0:S.magazine,articleBlock:null===D||void 0===D||null===(L=D.data)||void 0===L?void 0:L.article,campaignBlock:V?null:H.data,lazyLoadProductListRef:R})};t.default=m}},function(n){n.O(0,[6659,5331,4637,8584,5426,5337,2450,2943,3272,9774,2888,179],(function(){return t=45301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);